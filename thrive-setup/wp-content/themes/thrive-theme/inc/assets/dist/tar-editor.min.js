/*! Thrive Themes 2020-09-26
* http://www.thrivethemes.com/
* Copyright (c) 2020 Thrive Themes */

"use strict";function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(n,!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(l){var u,_,o,m,h,a={".js":[],".json":[],".css":[],".html":[]},c="function"==typeof require?require:null;return m=function(e){var t=new Error("Could not find module '"+e+"'");return t.code="MODULE_NOT_FOUND",t},h=function(e,t,n){var i,o;if("function"==typeof e[t+n])return t+n;for(i=0;o=a[n][i];++i)if("function"==typeof e[t+o])return t+o;return null},u=function(e,t,n,i,o,a){var s,r,l,c,d,p;for("."!==(s=(n=n.split("/")).pop())&&".."!==s||(n.push(s),s="");null!=(r=n.shift());)if(r&&"."!==r&&(".."===r?(e=t.pop(),a=a.slice(0,a.lastIndexOf("/"))):(t.push(e),e=e[r],a+="/"+r),!e))throw m(i);if(s&&"function"!=typeof e[s]&&((p=h(e,s,".js"))||(p=h(e,s,".json")),p||(p=h(e,s,".css")),p||(p=h(e,s,".html")),p?s=p:2!==o&&"object"===_typeof(e[s])&&(t.push(e),e=e[s],a+="/"+s,s="")),!s)return 1!==o&&e[":mainpath:"]?u(e,t,e[":mainpath:"],i,1,a):u(e,t,"index",i,2,a);if(!(d=e[s]))throw m(i);return d.hasOwnProperty("module")?d.module.exports:(l={},d.module=c={exports:l,id:a+"/"+s},d.call(l,l,c,_(e,t,a)),c.exports)},o=function(e,t,n,i){var o,a=n,s=n.charAt(0),r=0;if("/"===s){if(a=a.slice(1),!(e=l["/"])){if(c)return c(n);throw m(n)}i="/",t=[]}else if("."!==s){if(o=a.split("/",1)[0],!(e=l[o])){if(c)return c(n);throw m(n)}i=o,t=[],(a=a.slice(o.length+1))||(r=(a=e[":mainpath:"])?1:(a="index",2))}return u(e,t,a,n,r,i)},(_=function(t,n,i){return function(e){return o(t,[].concat(n),e,i)}})(l,[],"")}({workspace:{inc:{assets:{js:{architect:{main:{actions:{"skin-colors.js":function(e,t,n){jQuery,t.exports={"tcb.favorite_colors.after_render":function(e){if(TVE.CONST.theme.skin_variables&&TVE.CONST.theme.skin_variables.colors.length&&e.color_picker.options.showGlobals){var t=n("../views/theme-style-panel/skin-colors");e.$el.find(".tcb-skin-toggle-content").length||(e.$el.append(TVE.tpl("theme-main/theme-style-panel/skin-colors")()),e.skin_color_view=new t({el:e.$("#tcb-skin-color-details")[0],favorites_view:e}),e.variableViews.skin=e.skin_color_view)}},"tcb.favorite_colors.reset_html":function(t){if(TVE.CONST.theme.skin_variables&&TVE.CONST.theme.skin_variables.colors.length&&t.color_picker.options.showGlobals){var n="";_.each(TVE.CONST.theme.skin_variables.colors,function(e){n+=t.global_thumb({global_prefix:TVE.CONST.theme.skin_variables.colors_prefix,css_prop:"background-color",color:TVE.getCssVariableValue(TVE.CONST.theme.skin_variables.colors_prefix+e.id),name:e.name,id:e.id,synced_var:"",custom_name:e.custom_name})}),t.$(".tcb-skin-colors-container").html(n.split("p-thumb-inner").join("p-thumb-inner tcb-tpl-var"))}}}},"skin-gradients.js":function(e,t,n){jQuery,t.exports={"tcb.favorite_gradients.after_render":function(e){if(TVE.CONST.theme.skin_variables&&TVE.CONST.theme.skin_variables.gradients.length){var t=n("../views/theme-style-panel/skin-gradient");e.$el.append(TVE.tpl("theme-main/theme-style-panel/skin-gradients")()),e.skin_gradient_view=new t({el:e.$("#skin-gradient-details")[0],favorites_view:e}),e.variableViews.skin=e.skin_gradient_view}},"tcb.favorite_gradients.reset_html":function(t){if(TVE.CONST.theme.skin_variables&&TVE.CONST.theme.skin_variables.gradients.length){var n="";_.each(TVE.CONST.theme.skin_variables.gradients,function(e){n+=t.global_thumb({global_prefix:TVE.CONST.theme.skin_variables.gradients_prefix,css_prop:"background-image",color:TVE.getCssVariableValue(TVE.CONST.theme.skin_variables.gradients_prefix+e.id),name:e.name,id:e.id,synced_var:"",custom_name:e.custom_name})}),t.$(".skin-gradients-container").html(n.split("p-thumb-inner").join("p-thumb-inner tcb-tpl-var"))}},"tcb.gradient_picker.toggle_gradient_controls":function(e,t){TVE.CONST.theme.skin_variables&&TVE.CONST.theme.skin_variables.gradients.length&&e.css_variable&&e.$(".fav-colors .tcb-skin-toggle-content").toggleClass("tcb-disabled",t&&!e.edit_css_variable)}}}},"constants.js":function(e,t,n){var i=[".search-submit .thrv_icon",".search-submit .tcb-button-text.thrv-inline-text"];t.exports={identifiers:{EDITOR_CLASS:"ttb-editor-page",FLIP_SECTIONS_CLASS:"flip-sections",HIDE_SECTION_CLASS:"hide-section",MAIN_COLUMNS_SEPARATOR:".main-columns-separator"},templates:{error404:"error404",ARCHIVE:"archive",ARCHIVE_BASE:"archive-base",BLOG:"blog",PAGE:"page",POST:"post",SEARCH:"search",AUTHOR:"author",SINGULAR:"singular",HOME:"home",PRODUCT:"product",CART:"cart",CHECKOUT:"checkout",ACCOUNT:"account"},theme_button:{layout:"button_layout"},blog_list:{no_results:{type:"no_results",selector:".main-no-results",affected_selectors:".tcb-post-list#main,.tcb-pagination,.tcb-featured-list"},states:[{value:"blog_list",label:"Search results found"},{value:"no_results",label:"No results found"}]},comments:{states:[{value:"logged",label:"Logged In User View"},{value:"visitor",label:"Visitor View"},{value:"closed",label:"Comments are Closed"}],hiddenElements:["thrive_author_box","thrive_author_links","thrive_breadcrumbs","thrive_calendar_widget","thrive_widget_area","thrive_comments","thrive_dynamic_list","post_author_picture","post_content","post_thumbnail","contentblock","symbol","post_list","ct_symbol","tl_shortcode","quiz","ultimatum_countdown","ovation_capture","ovation_display","tcb_post_author_bio","thrive_author_follow","tcb_post_author_name","tcb_post_author_picture","tcb_post_categories","tcb_post_content","tcb_post_published_date","tcb_post_comments_number","tcb_post_tags","tcb_post_featured_image","tcb_post_title","tcb_post_read_more","thrive_post_meta"]},search_dynamic_selectors:i,text_dynamic_selectors:[".comment-form-reply-title",".comment-form-comment-notes"],dynamic_selectors:[].concat(i,[".comment-form-submit .thrv_icon",".comment-form-submit .tcb-button-text.thrv-inline-text",".comment-reply-link .thrv_icon",".comment-reply-link .tcb-button-text.thrv-inline-text"]),dynamicVideo:{placeholderTemplate:"theme-main/video-overlay-placeholder",RESPONSIVE_VIDEO_CONTAINER:".tve_responsive_video_container",THUMBNAIL_UPLOAD_BUTTON_CLASS:".tve-video-thumbnail-control",THUMBNAIL:{STATIC:"static",DYNAMIC:"dynamic",NONE:"none"}},taxonomyShortcodes:["thrive_archive_name","thrive_archive_description","thrive_archive_parent_name"],DEFAULT_EXCERPT_WORDS:55,DEFAULT_READ_MORE:"...",content_switch:{blog_index_text:"Blog Index"},COMMENT_SUBMIT_TYPE:"thrive_comments_form_submit",COMMENT_REPLY_TYPE:"thrive_comment_reply_button",SIDEBAR_CROPPED_HEIGHT:600,HORIZONTAL_LAYOUT_WIDTH:700,HORIZONTAL_LAYOUT_PADDING:60,VERTICAL_LAYOUT_WIDTH:350,VERTICAL_LAYOUT_PADDING:52,defaultPreviewOptions:{imageTypeCallback:"toJpeg",quality:1,fixWindowWidth:!1,bgcolor:"white",style:{top:0,left:0,right:0,bottom:0}},THEME_SKIN_COLOR_VARIABLE_PREFIX:"--tcb-skin-color-",THEME_CONTEXT:"ttb",ARCHITECT_CONTEXT:"tar",WOO_ELEMENTS:["shop","product","cart","checkout","account"]}},controls:{"dynamic-video-thumbnail.js":function(e,t,n){var a=TVE.Theme.constants.dynamicVideo.THUMBNAIL,s=TVE.Theme.constants.dynamicVideo.RESPONSIVE_VIDEO_CONTAINER,r=TVE.Theme.constants.dynamicVideo.THUMBNAIL_UPLOAD_BUTTON_CLASS,l="data-thumbnail-type",c={input:function(e,t){var n=TVE.ActiveElement,i=t.value===a.DYNAMIC?c.getFeaturedImage():"",o=TVE.Components.responsivevideo.$el.find(r);n.find(s).attr(l,t.value),c.renderOverlay(n,i),o.toggleClass("tcb-hidden",t.value!==a.STATIC),TVE.Components.responsivevideo.$el.find(".tcb-player-icon-wrapper").toggle(t.value!==a.NONE&&!o.is(":visible")),TVE.Components.responsivevideo.update(TVE.Components.responsivevideo.controls.responsive_video)},update:function(e){var t=TVE.Components.responsivevideo.$el,n=e.find(s).attr(l);n||(n=a.STATIC),t.find(".v-thumbnail-type").val(n),t.find(r).toggleClass("tcb-hidden",n!==a.STATIC),t.find(".tcb-responsive-video-thumbnail").removeClass("tcb-hidden")},reset:function(e){e.find(s).attr(l,a.STATIC),c.update(e),c.renderOverlay(e)},renderOverlay:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";t&&t.length?(e.attr("overlay",1),e.find(".video_overlay").addClass("video_overlay_image").html('<span class="overlay_play_button">'+TVE.Components.responsivevideo.controls.responsive_video.videoOverlaySVG+"</span>").css({"background-image":"url('"+t+"')","background-repeat":"no-repeat","background-size":"cover","background-position":"center"})):e.find(s).show().html(TVE.tpl(TVE.Theme.constants.dynamicVideo.placeholderTemplate)())},getFeaturedImage:function(){return TVE.CONST.post_image.featured},updateDynamicVideoThumbnail:function(){var e=TVE.inner.$body.find('.thrv_responsive_video[data-is-dynamic="true"] '.concat(s,"[").concat(l,'="dynamic"]'));e.length&&c.renderOverlay(e.parent(".thrv_responsive_video"),TVE.CONST.theme.post_featured_image.src)}};t.exports=c}},modals:{"switch-confirmation.js":function(e,t,n){t.exports=TVE.modal.base.extend({after_initialize:function(){this.$el.addClass("medium-small")},after_open:function(e){this.href=e.href,this.context=e.context},continueWithoutSaving:function(){window.onbeforeunload=null,this.close(),window.location=this.href},saveAndContinue:function(){var e=this;window.onbeforeunload=null,this.close();var t=function(){window.location=e.href};this.context===TVE.Theme.constants.THEME_CONTEXT?TVE.Theme.content.save(t,!0,!1):this.context===TVE.Theme.constants.ARCHITECT_CONTEXT&&TVE.Editor_Page.save(!0,t,{},!0)}})},"tar-light-notice.js":function(e,t,n){t.exports=TVE.modal.base.extend({template:TVE.tpl("modals/tar-light-notice")})}},"switch-editor.js":function(e,t,n){var o,i;o=jQuery,i=0,t.exports={greetingMessage:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];if(e){var i=o("<div>".concat(e,"</div>")).appendTo(o("#tt-loading-wrapper"));i.attr("class","greeting-message "+n.join(" ")),setTimeout(function(){return i.addClass("greeting-show")},500),setTimeout(function(){i.removeClass("greeting-show"),setTimeout(i.remove.bind(i),300)},t+1500)}},handleSidebarTooltip:function(e,t){var n=TVE.main.sidebar_extra.$el.find(".".concat(e,"-redirect-tooltip"));n.addClass("tooltip-active"),t.mouseleave(function(){setTimeout(function(){return n.removeClass("tooltip-active")},2e3)}),setTimeout(function(){return n.removeClass("tooltip-active")},5e3)},elementClick:function(e){3<=++i&&(this.handleSidebarTooltip(TVE.Theme.constants.ARCHITECT_CONTEXT,e),this.resetCounter())},tarBlur:function(){3==++i?(this.handleSidebarTooltip(TVE.Theme.constants.THEME_CONTEXT,TVE.inner.$body),this.resetCounter()):TVE.main.sidebar_extra.$el.find(".ttb-redirect-tooltip").removeClass("tooltip-active")},resetCounter:function(){i=0},showConfirmationModal:function(e,t){TVE.Theme.modals.switchConfirmation||(TVE.Theme.modals.switchConfirmation=new TVE.Theme.views.SwitchConfirmation({el:TVE.modal.get_element("switch-confirmation")})),TVE.Theme.modals.switchConfirmation.open({href:e,context:t})}}},views:{"theme-style-panel":{"skin-colors.js":function(e,t,n){jQuery,t.exports=TVE.GlobalColors.extend({after_initialize:function(){this.enable_remove_color=!1,this.enable_edit_color=!1,this.unlink_label="Unlink Theme Color",this.color_type="theme",this.skinVariables=TVE.CONST.theme.skin_variables.colors},execute_ajax:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=_.findIndex(this.skinVariables,function(e){return parseInt(e.id)===parseInt(t.id)});-1<e&&(t=_.extend({},{name:this.$global_color_name_input.val(),value:t.color,type:"colors",key:"color"},t),this.skinVariables[e].hsl_parent_dependency?t.hsl_parent_dependency=this.skinVariables[e].hsl_parent_dependency:this.skinVariables[e].hsl&&(t.hsl=this.skinVariables[e].hsl),TVE.Theme.utils.saveSkinVariables(t),this.skinVariables[e].name=t.name)}})},"skin-gradient.js":function(e,t,n){jQuery,t.exports=TVE.GlobalGradients.extend({after_initialize:function(){this.enable_remove_color=!1,this.enable_edit_color=!1,this.unlink_label="Unlink Theme Gradient",this.skinVariables=TVE.CONST.theme.skin_variables.gradients},execute_ajax:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=_.findIndex(this.skinVariables,function(e){return parseInt(e.id)===parseInt(t.id)});-1<e&&(t=_.extend({},{name:this.$global_color_name_input.val(),value:t.gradient,type:"gradients",key:"gradient"},t),TVE.Theme.utils.saveSkinVariables(t),this.skinVariables[e].name=t.name)}})}}}}},editor:{components:{"_includes.js":function(e,t,n){t.exports={VisibilitySettings:n("./visibility-settings"),PostTypeTemplateSettings:n("./templates/post-type-template-settings"),PageContentSettings:n("./page-content-settings"),AMPSettings:n("./amp-settings"),ScriptsSettings:n("./scripts-settings")}},"amp-settings.js":function(e,t,n){t.exports=TVE.Views.Base.component.extend({controls_init:function(e){TVE.add_filter("tcb_save_post_data_after",function(e){return e.thrive_post_amp_status=TVE.CONST.theme.amp_status,e}),e.DisableAMP.update=function(){this.setChecked("disabled"===TVE.CONST.theme.amp_status)},e.DisableAMP.input=function(e,t){TVE.CONST.theme.amp_status=t.checked?"disabled":""}}})},"page-content-settings.js":function(e,t,n){t.exports=TVE.Views.Base.component.extend({controls_init:function(e){this.controls.FeaturedImage.update=function(){this.update_preview()},this.controls.PostTitle.update=function(){this.setValue(TVE.CONST.post.post_title)},this.controls.PostTitle.change=function(){var t=this;TVE.main.overlay(),TVE.KEEP_OVERLAY=!0;var n=this.getValue();TVE.Editor_Page.save(!0,TVE.ajax("save_post_title","post",{ID:TVE.CONST.post.ID,post_title:n}).done(function(e){e.success?(TVE.StorageManager.set("tve_post_options_change",TVE.CONST.post),TVE.CONST.post.post_title=n,TVE.KEEP_OVERLAY=!0,TVE.iframe_refresh(),t.update()):TVE.main.overlay("close")}))}}})},"scripts-settings.js":function(e,t,n){t.exports=TVE.Views.Base.component.extend({$tooltip:null,controls_init:function(e){var n=this;this.initTooltip(),TVE.add_filter("tcb_save_post_data_after",function(e){if(!TVE.CONST.landing_page){var n={};_.each(TVE.CONST.theme.scripts,function(e,t){n["thrive_".concat(t,"_scripts")]=e}),e.scripts=n}return e}),TVE.add_action("tcb.navigate_setting_custom-scripts",function(e){var t=TVE.inner.$body.removeClass("edit_mode");e.prevent_close(),TVE.Editor_Page.focus_element(t),TVE.main.collapse_components(),n.docked.tcbToggleClass("open"),e.allow_close(),n.addTooltip()})},initTooltip:function(){this.$tooltip||(this.$tooltip=new TVE.Views.other.Tooltip({icon:"custom-scripts",title:"Manage Custom Scripts",info:"Easily manage custom scripts in this area",learnMoreLink:"https://thrivethemes.com/tkb_item/how-to-add-scripts-to-single-pages-and-posts/",type:"custom-scripts"}))},addTooltip:function(){this.$el.find(".tcb-tooltip-container").length||this.$el.append(this.$tooltip.$el),this.$tooltip.display()},setScript:function(e,t){var n=t.getAttribute("name");TVE.CONST.landing_page?TVE.CONST.tve_global_scripts[n]=t.value:TVE.CONST.theme.scripts[n]=t.value},hideTooltip:function(){this.$tooltip&&this.$tooltip.hide()}})},templates:{"post-type-template-item.js":function(e,t,n){t.exports=TVE.Views.Base.base_view.extend({className:"thrive-page-template-item",tagName:"li",template:TVE.tpl("architect-main/page-template-item"),after_render:function(){var e=this.model.get("selected");this.$el.toggleClass("thrive-template-selected",e)},activateTemplate:function(){var t=this;this.model.collection.forEach(function(e){return e.set("selected",e.get("ID")===t.model.get("ID"))}),this.$el.siblings().removeClass("thrive-template-selected"),TVE.main.overlay(),TVE.KEEP_OVERLAY=!0,TVE.Editor_Page.save(!0,function(){t.model.save({post_id:TVE.CONST.post_id},{success:function(){"post"===TVE.CONST.post_type&&t.model.get("format")!==TVE.CONST.post_format&&t.savePostFormat(t.model.get("format")),TVE.KEEP_OVERLAY=!0,TVE.iframe_refresh()},error:function(){TVE.page_message("Error changing the template.",!0)},always:function(){TVE.main.overlay("close")}})},{},!0)},savePostFormat:function(t){TVE.ajax("save_post_format","post",{ID:TVE.CONST.post.ID,post_format:t}).done(function(e){e.success?(TVE.StorageManager.set("tve_post_options_change",TVE.CONST.post),TVE.CONST.post_format=t):TVE.main.overlay("close")})}})},"post-type-template-settings.js":function(e,t,n){var i=n("./post-type-templates-list"),o=n("./post-type-template-item"),a=i.itemCollection,s=i.templatesListView,r=i.filteredModel,l=TVE.Views.Base.base_view.extend({className:"control-grid",tagName:"div",template:TVE.tpl("architect-main/template-settings"),after_initialize:function(){var n=this,e=["all"].concat(TVE.CONST.theme.post_formats);this.formatsTooltip=new TVE.Views.Controls.Tooltip({tooltipPosition:"left",no_buttons:!0,arrow_css:{display:"none"},template:TVE.tpl("theme-main/post-formats-tooltip"),anim_duration:300,no_callback:!0,validate:function(){return!n.formatsTooltip.FORCE_CLOSE},after_render:function(){this.$(".tve-tooltip-close").hide(),this.$el.addClass("thrive-post-settings-filters")},filterByFormat:function(e,t){n.formatsTooltip.onCancel(),n.model.set("format",t.dataset.value),n.$(".thrive-filter-templates").removeClass("standard-template audio-template video-template image-template").addClass("".concat(t.dataset.value,"-template"))}}),e.forEach(function(e){n.formatsTooltip.$(".post-formats-list").append('<li class="click p-5" data-value="'.concat(e,'" data-fn="filterByFormat"> ').concat(TVE.ucFirst(e)," templates</li>"))})},searchTemplate:_.debounce(function(e,t){var n=t.value.trim();r.set("name",n)}),openPostTypesDropdown:function(){return this.formatsTooltip.isOpen()?this.formatsTooltip.onCancel():this.formatsTooltip.open(null,this.$(".thrive-filter-templates")),!1}});t.exports=TVE.Views.Base.component.extend({after_init:function(){this.templatesCollection=new a(TVE.CONST.theme.templates),this.listenTo(this.templatesCollection,"change",this.renderActiveTemplate),this.templatesCollection.forEach(function(e){e.set("selected",parseInt(e.get("ID"))===parseInt(TVE.inner.window.thrive_front_localize.ID))})},renderActiveTemplate:function(){this.templatesCollection.findWhere({selected:!0})&&this.$(".thrive-page-active-template").html(new o({model:this.templatesCollection.findWhere({selected:!0})}).$el),this.$el.find(".tve-search-filter-container .search-template-input").val("").trigger("change")},controls_init:function(e){["all"].concat(TVE.CONST.theme.post_formats);this.$(".tve-search-filter-container").append(new l({model:r}).$el),this.$(".thrive-templates-container").append(new s({model:r,collection:this.templatesCollection}).$el),this.$(".thrive-no-post-type-templates").toggle(!TVE.CONST.theme.templates.some(function(e){return e.type===TVE.CONST.post_type}))}})},"post-type-templates-list.js":function(e,t,n){var o=new Backbone.Model({name:"",format:"all"}),i=n("./post-type-template-item"),a=Backbone.Collection.extend({comparator:function(e){if(e.isDefault()&&e.isCurrentPostFormat())return!1},model:Backbone.Model.extend({urlRoot:"".concat(TVE.CONST.theme.routes.post,"/").concat(TVE.CONST.post.ID,"/template"),idAttribute:"ID",defaults:function(){return{selected:0}},sync:function(e,t,n){(n=n||{}).cache=!1;var i=n.beforeSend;return n.beforeSend=function(e){if(e.setRequestHeader("X-WP-Nonce",TVE.CONST.rest_nonce),"function"==typeof i)return i.apply(this,arguments)},Backbone.sync(e,t,n)},isDefault:function(){return"1"===this.get("is_default")},isCurrentPostFormat:function(){var e=""===TVE.CONST.post_format?"standard":TVE.CONST.post_format;return this.get("format")===e}}),filterTemplates:function(){return this.filter(function(e){var t=o.get("format"),n=o.get("name").toLowerCase().trim(),i=!0;return"all"!==t&&(i=i&&e.get("format")===t),i&&0<n.length&&(i=i&&e.get("name").toLowerCase().includes(n)),i})}}),s=TVE.Views.Base.base_view.extend({template:TVE.tpl("architect-main/template-list"),before_initialize:function(){this.listenTo(this.model,"change",this.renderTemplates),this.listenTo(this.collection,"change",this.renderTemplates)},renderTemplates:function(){var t=this.$(".thrive-page-template-list");t.empty(),this.collection.filterTemplates().forEach(function(e){t.append(new i({model:e}).$el)}),this.$(".thrive-empty-templates-list").toggle(0===t.find("li").length)},after_render:function(){this.renderTemplates()}});t.exports={filteredModel:o,itemCollection:a,templatesListView:s}}},"visibility-settings.js":function(e,t,n){var i=function(e){return TVE.CONST.theme.element_visibility.values[e]},r=function(e,t){TVE.CONST.theme.element_visibility.values[e]=t};t.exports=TVE.Views.Base.component.extend({controls_init:function(e){this.hooks(),this.initToggles(e),this.initSelects(e),e.ShowAllHidden.update=function(){this.setChecked(TVE.inner.$body.hasClass("thrive_show_hidden_elements"))},e.ShowAllHidden.input=function(e,t){TVE.inner.$body.toggleClass("thrive_show_hidden_elements",t.checked)}},initToggles:function(t){_.each(TVE.CONST.theme.element_visibility.config.elements,function(n,o){var e=n.view;t[e].change=function(e,t){var i=t.checked?"show":"hide";TVE.inner.$body.find(n.identifier).each(function(e,t){var n=TVE.inner_$(t);0===n.closest(TVE.identifier("post_list")).length&&(n.toggleClass("hide-section","hide"===i),"featured_image"===o&&n.is(".thrv-content-box")?TVE.inner.$body.toggleClass("hide-dynamic-content","hide"===i):"post_title"===o&&n.is(".thrive-shortcode-content")&&TVE.inner.$body.toggleClass("hide-inline-post-titles","hide"===i))}),r(o,i)},t[e].update=function(){this.setChecked("show"===i(o))}})},initSelects:function(t){_.each(TVE.CONST.theme.element_visibility.config.sections,function(a,s){var e=a.view;t[e].change=function(e,t){var n,i=t.value,o="inherit"===i?(n=s,TVE.CONST.theme.template_visibility[n]):i;TVE.inner.$body.find(a.identifier).each(function(e,t){TVE.inner_$(t).toggleClass("hide-section","hide"===o)}),r(s,i)},t[e].update=function(){this.setValue(i(s))}})},hooks:function(){TVE.add_filter("tcb_save_post_data_after",function(e){return e.element_visibility=TVE.CONST.theme.element_visibility.values,e})}})}},controls:{"_includes.js":function(e,t,n){t.exports={FeaturedImage:n("./featured-image-picker")}},"featured-image-picker.js":function(e,t,n){var o=n("../../architect/main/controls/dynamic-video-thumbnail");t.exports=TVE.Views.Base.control.extend({template:TVE.tpl("controls/image-picker"),initialize:function(){this.render(),this.picker=(new TVE.Views.Controls.FilePicker).on_select(this.change_image,this),this.picker.on_cancel(this.on_cancel,this),this.activeElement=TVE.inner_$(".thrv_wrapper.tcb-post-thumbnail:not(.tcb-post-list-shortcode)").first()},open:function(){return this.image_selected=!1,this.picker.open(),this.picker.frame.$el.addClass("hide-menu"),!1},change_placeholder:function(){this.placeholder=!0,this.open()},on_cancel:function(){this.placeholder&&(delete this.placeholder,TVE.main.clear_focus())},change_image:function(e){var i=this;TVE.main.overlay(),TVE.$.ajax({url:TVE.CONST.theme.routes.post+"/format/image",type:"POST",data:{attachment:e.id,post_id:TVE.CONST.post.ID},headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(function(n){n.success&&(TVE.inner_$(".thrv_wrapper.tcb-post-thumbnail:not(.tcb-post-list-shortcode)").replaceWith(n.html),i.replaceDynamicCss(TVE.inner_$("#thrive-dynamic-css"),n.data.src),TVE.inner_$('[id^="thrive-dynamic-section-"]').each(function(e,t){i.replaceDynamicCss(TVE.inner_$(t),n.data.src)}),TVE.CONST.theme.post_featured_image=n.data,o.updateDynamicVideoThumbnail(),i.update_preview())}).error(function(){}).always(function(e){TVE.main.overlay("close")})},replaceDynamicCss:function(e,t){0<e.length&&e.html(e.html().replace(TVE.CONST.theme.post_featured_image.src,t))},update_preview:function(e){void 0===e&&(e=TVE.CONST.theme.post_featured_image.src),this.$(".preview").addClass("img").css("background-image","url("+e+")")}})}},hooks:{"actions.js":function(e,t,n){function i(){var e=_objectSpread({},0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{action:"tve_cloud_templates",task:"download",template:_.findKey(TVE.CONST.cloud_lp_templates,function(e){return e.skin_tag===TVE.CONST.theme.skin_tag&&Array.isArray(e.tags)&&e.tags.join(" ").toLowerCase().includes("blank")}),post_id:TVE.CONST.post_id});TVE.Editor_Page.save(!1,function(){TVE.KEEP_OVERLAY=!0,window.onbeforeunload=null,TVE.page_message(TVE.t.TemplateChange),top.window.location.reload()},e)}t.exports={"tcb.button_styles":function(e){var o=TVE.tpl("controls/global/style-button"),t=TVE.CONST.theme.skin_styles.tve_global_button_styles,a=e.$(".theme-elements");t&&Object.values(t).length?(a.length?a.empty():(a=TVE.$('<div class="theme-elements"></div>')).insertAfter(e.$(".tcb-element-templates")).css("width","100%"),_.each(t,function(e,t){var n="tcb-global-button-"+t,i='<div class="tve-select-item global-style-preview click" data-value="'+n+'" data-fn="select">'+o({cls:n,text:e.name})+"</div>";a.append(i)}),a.prepend('<div class="full-width button-category-label">THEME STYLES</div>'),e.$("#tve-default-buttons").append(a)):a.remove()},"tcb.after-insert":function(e){if(e&&e.is(TVE.identifier("logo"))){var t=_.find(TVE.CONST.dynamic_links.Site.links[0],function(e){return e.url===TVE.CONST.theme.logo_url});t&&e.attr({"data-dynamic-link":"thrive_global_shortcode_url","data-shortcode-id":t.id,href:TVE.CONST.theme.logo_url})}},"tcb-ready":function(){if(TVE.CONST.landing_page)TVE.main.sidebar_extra.$('[data-fn="toggle_theme_css"]').hide();else{if(!["content_block","mec-events","cartflows_step","sfwd-lessons","sfwd-topic","product"].includes(TVE.CONST.post.post_type)){var n=!0;TVE.inner.$body.find("".concat(TVE.identifier("post_content"))).each(function(e,t){if(0===TVE.inner_$(t).closest(TVE.identifier("post_list")).length)return n=!1}),n&&(TVE.main.sidebar_extra.$(".add-element").addClass("tve-disabled"),TVE.main.$container.before(TVE.apply_filters("thrive_theme.no_post_content_notice",TVE.tpl("theme-main/no-post-content-notice")())),TVE.inner.$body.addClass("no-post-content-overlay"))}}TVE.inner_$(".tve_wp_shortcode .tve_shortcode_rendered + .tve_shortcode_rendered").remove();var i=TVE.inner.$body.find("#wrapper .thrv_responsive_video[data-type=dynamic]");i.length&&(TVE.Editor_Page.selection_manager.init(i),i.find(".tve_responsive_video_container").each(function(){jQuery.each(this.attributes,function(e,t){!["class","data-css","style","icon"].includes(t.name)&&0<t.value.length&&i.attr(t.name,t.value)}),i.attr("data-is-dynamic",!0),i.find(".tve_responsive_video_container").attr("data-is-dynamic",!0)}));var o=TVE.inner.$body.find("#wrapper .thrv_audio[data-type=dynamic]");o.length&&(TVE.Editor_Page.selection_manager.init(o),o.find("iframe,audio,.tve_audio-no_audio").each(function(){if(jQuery.each(this.attributes,function(e,t){if(!["class","data-css","style"].includes(t.name)&&0<t.value.length)switch(t.name){case"data-provider":case"data-type":o.attr("data-type",t.value);break;case"src":o.attr("data-url",t.value);break;case"loop":o.attr("data-loop",t.value);break;case"data-autoplay":o.attr("data-data-autoplay",t.value);break;case"controlslist":o.attr("data-no-download","nodownload"===t.value?"1":"0");break;default:o.attr(t.name,t.value)}}),"soundcloud"===o.attr("data-type")){var e=o.attr("data-url"),t=e.match("^(.*?)(?=\\?|$)");if(t){var n=new URLSearchParams(e.replace(t[0],""));o.attr("data-url",n.get("url"))}}o.attr("data-is-dynamic",!0),o.find("iframe,audio,.tve_audio-no_audio").attr("controlslist")||o.attr("data-no-download","0")}))},"tcb.page_wizard.callback.completely_blank":function(){var e={header:0,footer:0};if(TVE.main.overlay(),TVE.CONST.cloud_lp_templates)i(e);else var t=setInterval(function(){TVE.CONST.cloud_lp_templates&&(i(e),clearInterval(t))},100)},"tcb.page_wizard.callback.blank_hf":function(){var e={header:TVE.CONST.default_header_id,footer:TVE.CONST.default_footer_id};if(TVE.main.overlay(),TVE.CONST.cloud_lp_templates)i(e);else var t=setInterval(function(){TVE.CONST.cloud_lp_templates&&(i(e),clearInterval(t))},100)},"tcb.element.selected":function(){TVE.Theme.switch.resetCounter()},"tcb.editorActions.init":function(){TVE.$body.append('<div id="tt-loading-wrapper"></div>')}}},"filters.js":function(e,t,n){var i;i=jQuery,t.exports={"tcb.global.stylepicker.styles":function(n,i){if(!_.isEmpty(TVE.CONST.theme.skin_styles["tve_global_"+i+"_styles"])){var e=TVE.CONST.theme.skin_styles["tve_global_"+i+"_styles"];n["Theme Styles"]=[],_.each(e,function(e,t){e.cls="tcb-global-"+i+"-"+t,e.id=t,n["Theme Styles"].push(e)})}return n},"tcb.includes":function(e){return e.CONST.theme.is_theme_template||(i.extend(!0,e.Views.Components,n("../components/_includes")),i.extend(!0,e.Views.Controls,n("../controls/_includes"))),e},editor_wrapper:function(e){var t=TVE.inner_$(".tcb-post-content #tve_editor");return TVE.CONST.theme.is_theme_template||TVE.CONST.landing_page||!t.length||(e=t.first()),e},"tcb.froala.dropdown_container":function(e){return TVE.CONST.landing_page||(e=TVE.inner.$body),e},editor_loaded_callback:function(){new URLSearchParams(window.location.href).has("from_theme")&&(TVE.Theme.switch.greetingMessage("<span>Thrive Architect</span>Editing page <strong>".concat(TVE.CONST.post&&TVE.CONST.post.post_title,"</strong>"),2e3,["tar"]),history.pushState({},document.title,location.pathname+location.search.replace("&from_theme=1","")))},"tcb.click_blur":function(e,t){return t.is("html")||TVE.Theme.switch.tarBlur(),e},tcb_extend_landing_page_modal:function(e){return e.extend({after_initialize:function(){this.tooltips.skin="theme-main/lp-set-skin",e.prototype.after_initialize.call(this)},getViewIcons:function(e){return e.push({flag:"fromSkin",$icon:this.$(".set-skin")}),e}})},tcb_default_landing_page_set:function(e){return i.extend(!0,{fromSkin:0},e)},tcb_category_landing_page_set:function(e,t){return i.extend(!0,{fromSkin:t.from_skin},e)},"tcb.extend-sidebar-right":function(){return n("../views/sidebar-right")},allow_dragenter:function(e,t,n){return 0===t.closest(TVE.Editor_Page.editor).length&&(e=!1),e},"tcb.selection.element":function(e,t){return e.hasClass("tve_responsive_video_container")&&(e=e.parent(".thrv_responsive_video")),e.hasClass("tve_audio_container")&&(e=e.parent(".thrv_audio")),e},tcb_save_post_data_before:function(e){var t=TVE.inner.$body.find("#wrapper .thrv_responsive_video[data-is-dynamic=true]"),n=TVE.inner.$body.find("#wrapper .thrv_audio[data-is-dynamic=true]"),i={},o={};return t.length&&jQuery.each(t[0].attributes,function(e,t){t.name.includes("data")&&!t.name.includes("css")&&(i[t.name.replace("data-","")]=t.value)}),n.length&&("custom"===n.attr("data-type")&&0<n.find("audio").length&&(jQuery.each(n.find("audio")[0].attributes,function(e,t){["class","data-css"].includes(t.name)||(o[t.name.replace("data-","")]=t.value)}),o.url=n.find("audio source")[0].getAttribute("src")),jQuery.each(n[0].attributes,function(e,t){t.name.includes("data")&&!t.name.includes("css")&&(o[t.name.replace("data-","")]=t.value)})),e.tve_video_attributes=i,e.tve_audio_attributes=o,e},"tcb.drag.disable":function(e,t){return t.hasClass("tve-drag-handle")||TVE.inner_$.contains(TVE.Editor_Page.editor[0],t[0])||(e=!0),e}}}},"init.js":function(e,t,n){jQuery(window).on("tcb_main_ready",function(){TVE.Theme.views=_objectSpread({},TVE.Theme.views||{},{SwitchConfirmation:n("../architect/main/modals/switch-confirmation"),TarLightNotice:n("../architect/main/modals/tar-light-notice")}),TVE.main.on("element_selected",function(e,t){TVE.CONST.dynamic_links.Site.links[0].map(function(e){e.url===TVE.CONST.theme.logo_url&&(e.show="logo"===t)})}),TVE.main.on("tve.tve_save_post",function(e){TVE.inner_$(".tve-dynamic-toc, .tve-toc:not(#tve_editor *)").tableOfContents({target:".tcb-post-content,.content-section",hideEmpty:!1,emptyText:"No headings found. This Table of Contents will be hidden from your visitors. Headings will be updated upon saving your page"})})}).on("tcb.register-hooks",function(){TVE.Theme=_objectSpread({},TVE.Theme||{},{switch:n("../architect/main/switch-editor"),constants:n("../architect/main/constants"),modals:{},views:{}}),_.each(n("./hooks/actions"),function(e,t){return TVE.add_action(t,e)}),_.each(n("./hooks/filters"),function(e,t){return TVE.add_filter(t,e)}),_.each(n("../everywhere/actions"),function(e,t){return TVE.add_action(t,e)}),_.each(n("../everywhere/filters"),function(e,t){return TVE.add_filter(t,e)})})},views:{"sidebar-right.js":function(e,t,n){t.exports={switchClickedFromArchitect:function(e){window.onbeforeunload&&(e.preventDefault(),TVE.Theme.switch.showConfirmationModal(e.currentTarget.href,TVE.Theme.constants.ARCHITECT_CONTEXT))},openLightNotice:function(){TVE.Theme.modals.TarLightNotice||(TVE.Theme.modals.TarLightNotice=new TVE.Theme.views.TarLightNotice({el:TVE.modal.get_element("tar-light-notice")})),TVE.Theme.modals.TarLightNotice.open()}}}}},everywhere:{"actions.js":function(e,t,n){var i,o,a;jQuery,i=n("../architect/main/actions/skin-colors"),o=n("../architect/main/actions/skin-gradients"),a={tcb_after_cloud_template_css_inserted:function(e){e.is(TVE.identifier("block"))&&e.find(TVE.identifier("post_list")).each(function(e,t){TVE.PostList.dynamicImage.regeneratePostListStyleNodes(TVE.inner_$(t))})}},t.exports=_objectSpread({},a,{},i,{},o)},"filters.js":function(e,t,n){var i,o;i=jQuery,o=function(){return TVE.CONST.woocommerce&&TVE.CONST.woocommerce.is_woo_page},t.exports={"tcb.palette_changed":function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return e&&(t.previous_template_data&&t.active_template_data&&(t.previous_skin_data=t.previous_template_data,t.active_skin_data=t.active_template_data),i.ajax({url:"".concat(TVE.CONST.theme.routes.skins,"/").concat(TVE.CONST.theme.skin_id,"/change_palette"),type:"POST",data:t,headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).success(function(){TVE.outer&&TVE.outer.window.opener&&TVE.outer.window.opener.postMessage({action:"ttb.skin_palette_changed",data:t},"*")}).error(function(e){e.responseJSON&&TVE.page_message(e.responseJSON.message,!0,5e3)})),e},"tcb.palette_reset":function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return e&&i.ajax({url:"".concat(TVE.CONST.theme.routes.skins,"/").concat(TVE.CONST.theme.skin_id,"/reset_palette"),type:"POST",data:t,headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}),e},"tcb.variable.panel.save.data":function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return 1<arguments.length&&arguments[1],e.external_palettes&&(e.type="colors",e.key="color",i.ajax({url:"".concat(TVE.CONST.theme.routes.skins,"/").concat(TVE.CONST.theme.skin_id,"/skin_variables"),type:"POST",data:e,headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).error(function(e){e.responseJSON&&TVE.page_message(e.responseJSON.message,!0,5e3)})),e},tcb_blocks_modal_filter_select_source:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return TVE.CONST.landing_page||e.push({id:"special",order:2,text:"Theme Blocks",secondary_text:"Blocks designed to match your website branding. Ideal for full width content that should look and feel like the rest of your site."}),e},tcb_blocks_modal_default_select_source:function(e){return TVE.CONST.landing_page&&(e="special"),e},tcb_blocks_modal_default_select_cache_key:function(e){return TVE.CONST.landing_page&&["blank_v2","tcb2-blank-page-boxed","tcb2-blank-page-styled"].includes(TVE.CONST.landing_page)&&(e.key="block-modal-blank-lp-theme-content",e.modified=!0),e},"tcb.global_colors_templates":function(e){return TVE.CONST.landing_page||(e=TVE.CONST.theme.skin_variables?TVE.CONST.theme.skin_variables.colors:[]),e},"tcb.page_color_prefix":function(e){return TVE.CONST.landing_page||(e=TVE.Theme.constants.THEME_SKIN_COLOR_VARIABLE_PREFIX),e},tcb_color_css_variable_regex:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return _.isEmpty(TVE.CONST.theme.skin_variables)||(e+="("+TVE.CONST.theme.skin_variables.colors_prefix+"[0-9]*)|"),e},tcb_gradient_css_variable_regex:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return _.isEmpty(TVE.CONST.theme.skin_variables)||(e+="(var\\("+TVE.CONST.theme.skin_variables.gradients_prefix+"[0-9]*\\))|"),e},"tcb.allow_template_vars_in_color_picker":function(e){return void 0!==TVE.CONST.external_palettes&&1===parseInt(TVE.CONST.external_palettes)&&(e=!1),e},editor_loaded_callback:function(){TVE.CONST.theme.is_theme_template||TVE.inner_$(".tve-dynamic-toc, .tve-toc:not(#tve_editor *)").tableOfContents({target:".tcb-post-content,.content-section",hideEmpty:!1,emptyText:"No headings found. This Table of Contents will be hidden from your visitors. Headings will be updated upon saving your page"})},"thrive_theme.no_post_content_notice":function(e){return o()&&(e=TVE.tpl("tve-woo-page-notice")()),e},"tcb.should_open_page_wizard":function(e){return o()&&(e=!1),e}}}}}}}}})("workspace/inc/assets/js/editor/init");